import{d as q,a as u,o as r,c as i,b as c,F as w,t as k,w as H,v as P,e as B,r as I,f as _,g as v,p as b,h as $,i as f,j as R,k as d,u as C,l as O,m as E,n as Z,q as M,s as F,x as J}from"./vendor.59313aa5.js";const Y=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}};Y();const K={image:{png:"./images/avatars/image-juliusomo.png",webp:"./images/avatars/image-juliusomo.webp"},username:"juliusomo"},W=[{id:1,content:"Impressive! Though it seems the drag feature could be improved. But overall it looks incredible. You've nailed the design and the responsiveness at various breakpoints works really well.",createdAt:"1 month ago",score:12,user:{image:{png:"./images/avatars/image-amyrobson.png",webp:"./images/avatars/image-amyrobson.webp"},username:"amyrobson"},replies:[]},{id:2,content:"Woah, your project looks awesome! How long have you been coding for? I'm still new, but think I want to dive into React as well soon. Perhaps you can give me an insight on where I can learn React? Thanks!",createdAt:"2 weeks ago",score:5,user:{image:{png:"./images/avatars/image-maxblagun.png",webp:"./images/avatars/image-maxblagun.webp"},username:"maxblagun"},replies:[{id:3,content:"If you're still new, I'd recommend focusing on the fundamentals of HTML, CSS, and JS before considering React. It's very tempting to jump ahead but lay a solid foundation first.",createdAt:"1 week ago",score:4,replyingTo:"maxblagun",user:{image:{png:"./images/avatars/image-ramsesmiron.png",webp:"./images/avatars/image-ramsesmiron.webp"},username:"ramsesmiron"}},{id:4,content:"I couldn't agree more with this. Everything moves so fast and it always seems like everyone knows the newest library/framework. But the fundamentals are what stay constant.",createdAt:"2 days ago",score:2,replyingTo:"ramsesmiron",user:{image:{png:"./images/avatars/image-juliusomo.png",webp:"./images/avatars/image-juliusomo.webp"},username:"juliusomo"}}]}];var T={currentUser:K,comments:W};const x=q({id:"user",state:()=>({currentUser:T.currentUser,comments:T.comments,showModal:!1,showReply:!1,idToDelete:null,isRepliedComment:!1}),getters:{},actions:{toggleShowReply(e){this.$patch({showReply:e})},handleModal(e){this.$patch({showModal:e}),e||this.$patch({idToDelete:null})},deleteComment(e){this.$patch(t=>{if(!this.isRepliedComment)t.comments=t.comments.filter(s=>s.id!==e);else for(let s in this.comments)t.comments[s].replies=t.comments[s].replies.filter(a=>a.id!==e)})},getNewId(){function e(s,a){return Math.floor(Math.random()*(a-s)+s)}return e(10,100)},upvote(e){},downvote(e){}}});var m=(e,t)=>{const s=e.__vccOpts||e;for(const[a,n]of t)s[a]=n;return s};const z={class:"invisible-container"},G=["src"],Q={class:"user-name"},X={class:"user-you"},ee=u({props:{isShown:Boolean,user:{type:Object,required:!0}},setup(e){const t=e,s=x(),a=()=>s.currentUser.username===t.user.username;return(n,o)=>(r(),i("div",z,[c("img",{src:e.user.image.png,alt:"user avatar"},null,8,G),e.isShown?(r(),i(w,{key:0},[c("p",Q,k(e.user.username),1),H(c("p",X,"you",512),[[P,a()]])],64)):B("",!0)]))}});var U=m(ee,[["__scopeId","data-v-7028a9e9"]]);const te={class:"btn-container"},se={class:"like-btn btn__plus"},ne={class:"text"},oe=u({props:{score:{type:Number,required:!0}},setup(e){return(t,s)=>(r(),i("div",te,[c("div",se,[c("p",{onClick:s[0]||(s[0]=a=>e.score++),class:"btn__text"},"+"),c("p",ne,k(e.score),1),c("p",{onClick:s[1]||(s[1]=a=>e.score--),class:"btn__text"},"-")])]))}});const ae={},re={type:"button",class:"btn"};function ce(e,t){return r(),i("button",re,[I(e.$slots,"default",{},void 0,!0)])}var g=m(ae,[["render",ce],["__scopeId","data-v-221b6a5f"]]);const ie=e=>(b("data-v-1b8a1f3e"),e=e(),$(),e),le=ie(()=>c("svg",{viewBox:"0 0 14 14",width:"14",height:"14",xmlns:"http://www.w3.org/2000/svg"},[c("path",{d:"M2.167 12.448C2.167 13.302 2.867 14 3.722 14H9.944C10.8 14 11.5 13.302 11.5 12.448V3.5H2.167V12.448ZM12.667 1.167H9.75L8.773 0H4.893L3.917 1.167H1V2.333H12.667V1.167V1.167Z"})],-1)),ue=f(" Delete "),de=u({setup(e){return(t,s)=>(r(),_(g,{class:"btn--flat"},{default:v(()=>[le,ue]),_:1}))}});var _e=m(de,[["__scopeId","data-v-1b8a1f3e"]]);const me=e=>(b("data-v-c63d613c"),e=e(),$(),e),pe=me(()=>c("svg",{viewBox:"0 0 14 14",width:"14",height:"14",xmlns:"http://www.w3.org/2000/svg"},[c("path",{d:"M13.479 2.872 11.08.474a1.75 1.75 0 0 0-2.327-.06L.879 8.287a1.75 1.75 0 0 0-.5 1.06l-.375 3.648a.875.875 0 0 0 .875.954h.078l3.65-.333c.399-.04.773-.216 1.058-.499l7.875-7.875a1.68 1.68 0 0 0-.061-2.371Zm-2.975 2.923L8.159 3.449 9.865 1.7l2.389 2.39-1.75 1.706Z"})],-1)),ve=f(" Edit "),fe=u({setup(e){return(t,s)=>(r(),_(g,{class:"btn--flat"},{default:v(()=>[pe,ve]),_:1}))}});var he=m(fe,[["__scopeId","data-v-c63d613c"]]);const ge=e=>(b("data-v-2bdd529a"),e=e(),$(),e),ye=ge(()=>c("svg",{viewBox:"0 0 14 14",width:"14",height:"14",xmlns:"http://www.w3.org/2000/svg"},[c("path",{d:"M0.226725 5.31454L5.03972 1.15854C5.135 1.07673 5.25172 1.02395 5.37606 1.00643C5.50041 0.988906 5.62717 1.00739 5.74134 1.05968C5.8555 1.11198 5.95229 1.1959 6.02024 1.3015C6.08818 1.4071 6.12445 1.52997 6.12472 1.65554V3.84454C10.5167 3.89454 13.9997 4.77454 13.9997 8.93754C13.9997 10.6175 12.9177 12.2815 11.7207 13.1515C11.3477 13.4235 10.8157 13.0815 10.9537 12.6415C12.1937 8.67754 10.3657 7.62454 6.12472 7.56354V9.96754C6.12472 10.5335 5.46072 10.8275 5.03972 10.4635L0.226725 6.30854C0.155558 6.24686 0.0984811 6.17061 0.0593631 6.08495C0.0202451 5.99928 0 5.90621 0 5.81204C0 5.71787 0.0202451 5.62479 0.0593631 5.53913C0.0984811 5.45347 0.155558 5.37721 0.226725 5.31554V5.31454Z"})],-1)),we=f(" Reply "),be=u({setup(e){return(t,s)=>(r(),_(g,{class:"btn--flat"},{default:v(()=>[ye,we]),_:1}))}});var $e=m(be,[["__scopeId","data-v-2bdd529a"]]);const Ce=f("Send"),xe=u({setup(e){return(t,s)=>(r(),_(g,{class:"btn--normal"},{default:v(()=>[I(t.$slots,"default",{},()=>[Ce],!0)]),_:3}))}});var D=m(xe,[["__scopeId","data-v-24391194"]]);const ke=["value"],N=u({props:{content:{type:String,default:""}},emits:["update:content"],setup(e,{emit:t}){const s=a=>{t("update:content",a.target.value)};return(a,n)=>(r(),i("textarea",{name:"text-area",id:"",rows:"4",placeholder:"Add comment...",value:e.content,onInput:s},null,40,ke))}});const Ie={class:"comment-container"},L=u({props:{replyingTo:{type:String,required:!1,default:""},isReply:{type:Boolean,default:!1},commentId:{type:Number,required:!1,defaul:0},closeReply:{type:Function,required:!1,default:!1}},setup(e){const t=e,s=x(),a=R(""),n=()=>{const o={id:s.getNewId(),content:a.value,createdAt:"Just now",score:0,replyingTo:t.replyingTo,user:s.currentUser,replies:[]},l={id:s.getNewId(),content:a.value,createdAt:"Just now",score:0,replyingTo:t.replyingTo,user:s.currentUser};if(a.value&&(t.isReply||s.comments.push(o),t.isReply)){console.log(t.commentId);const p=s.comments.find(h=>h.replies.find(y=>y.id===t.commentId));if(p)return p.replies.push(l);if(!p){const h=s.comments.find(y=>y.id===t.commentId);if(h)return h.replies.push(l)}}};return(o,l)=>(r(),i("div",Ie,[d(N,{class:"text-area",content:a.value,"onUpdate:content":l[0]||(l[0]=p=>a.value=p)},null,8,["content"]),d(U,{isShown:!1,user:C(s).currentUser,class:"user-profile"},null,8,["user"]),d(D,{class:"btn",onClick:l[1]||(l[1]=p=>e.isReply?(n(),t.closeReply()):n())},{default:v(()=>[f(k(e.isReply?"Reply":"Send"),1)]),_:1})]))}});const Be=e=>(b("data-v-fdac44ce"),e=e(),$(),e),Re={class:"comment-view-container"},Se={class:"comment"},Me={class:"comment__user-infos"},Te=Be(()=>c("p",{class:"timestamp"},"1 day ago",-1)),Ue={class:"comment__content"},De={key:1},Ne={class:"comment__score"},Le={class:"comment__actions"},Ve=f("Update"),Ae=u({props:{comment:{type:Object,required:!0}},setup(e){const t=e,s=x(),a=R(!1),n=()=>s.currentUser.username===t.comment.user.username,o=R(!1),l=()=>{if(o.value==!0){o.value=!o.value;return}o.value=!o.value},p=()=>a.value=!a.value,h=()=>a.value=!1,y=()=>{s.handleModal(!0),s.$patch({idToDelete:t.comment.id}),t.comment.replies?s.$patch({isRepliedComment:!1}):s.$patch({isRepliedComment:!0})};return(Xe,S)=>(r(),i("div",Re,[c("div",Se,[c("div",Me,[d(U,{isShown:!0,user:e.comment.user},null,8,["user"]),Te]),c("div",Ue,[o.value?(r(),_(N,{key:0,content:e.comment.content,"onUpdate:content":S[0]||(S[0]=j=>e.comment.content=j)},null,8,["content"])):(r(),i("p",De,k(e.comment.content),1))]),c("div",Ne,[d(oe,{score:e.comment.score,id:e.comment.id},null,8,["score","id"])]),c("div",Le,[n()&&!o.value?(r(),i(w,{key:0},[d(_e,{onClick:y}),d(he,{onClick:l})],64)):o.value?(r(),_(D,{key:1,onClick:l},{default:v(()=>[Ve]),_:1})):(r(),_($e,{key:2,onClick:p}))])]),a.value?(r(),_(L,{key:0,commentId:e.comment.id,replyingTo:e.comment.user.username,isReply:!0,closeReply:h},null,8,["commentId","replyingTo"])):B("",!0)]))}});var V=m(Ae,[["__scopeId","data-v-fdac44ce"]]);const je=f("Yes, Delete"),qe=u({setup(e){return(t,s)=>(r(),_(g,{class:"btn--normal"},{default:v(()=>[I(t.$slots,"default",{},()=>[je],!0)]),_:3}))}});var He=m(qe,[["__scopeId","data-v-08774b0e"]]);const Pe=f("No, Cancel"),Oe=u({setup(e){return(t,s)=>(r(),_(g,{class:"btn--normal"},{default:v(()=>[I(t.$slots,"default",{},()=>[Pe],!0)]),_:3}))}});var Ee=m(Oe,[["__scopeId","data-v-a5c60504"]]);const A=e=>(b("data-v-72b2c0a4"),e=e(),$(),e),Ze={class:"modal"},Fe=A(()=>c("h2",{class:"modal__title"},"Delete comment",-1)),Je=A(()=>c("p",{class:"modal__content"}," Are you sure you want to delete this comment? This will remove the comment and can\u2019t be undone ",-1)),Ye={class:"modal__actions"},Ke=u({setup(e){O(()=>document.body.style.overflow="hidden"),E(()=>document.body.style.overflow="auto");const t=x(),s=()=>{t.idToDelete&&t.deleteComment(t.idToDelete),t.handleModal(!1)};return(a,n)=>(r(),i("div",{class:"modal-container",onClick:n[2]||(n[2]=Z(o=>C(t).handleModal(!1),["self"]))},[c("section",Ze,[Fe,Je,c("aside",Ye,[d(Ee,{onClick:n[0]||(n[0]=o=>C(t).handleModal(!1))}),d(He,{onClick:n[1]||(n[1]=o=>s())})])])]))}});var We=m(Ke,[["__scopeId","data-v-72b2c0a4"]]);const ze={class:"grid"},Ge={class:"container"},Qe=u({setup(e){const t=x();return(s,a)=>(r(),i("div",ze,[c("div",Ge,[(r(!0),i(w,null,M(C(t).comments,n=>(r(),i(w,{key:n.id},[d(V,{comment:n},null,8,["comment"]),(r(!0),i(w,null,M(n.replies,o=>(r(),i("div",{style:{"margin-left":"5rem"},key:o.id},[d(V,{comment:o},null,8,["comment"])]))),128))],64))),128)),d(L)]),C(t).showModal?(r(),_(We,{key:0})):B("",!0)]))}});F(Qe).use(J()).mount("#app");
