import{d as H,a as u,o as r,c as i,b as c,F as $,t as C,w as P,v as O,e as k,u as g,r as x,f as l,g as h,p as I,h as B,i as f,j as R,k as _,l as E,m as F,n as Z,q as T,s as J,x as Y}from"./vendor.59313aa5.js";const K=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}};K();const W={image:{png:"./images/avatars/image-juliusomo.png",webp:"./images/avatars/image-juliusomo.webp"},username:"juliusomo"},z=[{id:1,content:"Impressive! Though it seems the drag feature could be improved. But overall it looks incredible. You've nailed the design and the responsiveness at various breakpoints works really well.",createdAt:"1 month ago",score:12,user:{image:{png:"./images/avatars/image-amyrobson.png",webp:"./images/avatars/image-amyrobson.webp"},username:"amyrobson"},replies:[]},{id:2,content:"Woah, your project looks awesome! How long have you been coding for? I'm still new, but think I want to dive into React as well soon. Perhaps you can give me an insight on where I can learn React? Thanks!",createdAt:"2 weeks ago",score:5,user:{image:{png:"./images/avatars/image-maxblagun.png",webp:"./images/avatars/image-maxblagun.webp"},username:"maxblagun"},replies:[{id:3,content:"If you're still new, I'd recommend focusing on the fundamentals of HTML, CSS, and JS before considering React. It's very tempting to jump ahead but lay a solid foundation first.",createdAt:"1 week ago",score:4,replyingTo:"maxblagun",user:{image:{png:"./images/avatars/image-ramsesmiron.png",webp:"./images/avatars/image-ramsesmiron.webp"},username:"ramsesmiron"}},{id:4,content:"I couldn't agree more with this. Everything moves so fast and it always seems like everyone knows the newest library/framework. But the fundamentals are what stay constant.",createdAt:"2 days ago",score:2,replyingTo:"ramsesmiron",user:{image:{png:"./images/avatars/image-juliusomo.png",webp:"./images/avatars/image-juliusomo.webp"},username:"juliusomo"}}]}];var U={currentUser:W,comments:z};const w=H({id:"user",state:()=>({currentUser:U.currentUser,comments:U.comments,showModal:!1,showReply:!1,idToDelete:null,isRepliedComment:!1}),getters:{},actions:{toggleShowReply(e){this.$patch({showReply:e})},handleModal(e){this.$patch({showModal:e}),e||this.$patch({idToDelete:null})},deleteComment(e){this.$patch(t=>{if(!this.isRepliedComment)t.comments=t.comments.filter(s=>s.id!==e);else for(let s in this.comments)t.comments[s].replies=t.comments[s].replies.filter(o=>o.id!==e)})},getNewId(){function e(s,o){return Math.floor(Math.random()*(o-s)+s)}return e(10,100)},vote(e,t){this.$patch(s=>{if(this.isRepliedComment){let o;for(let n in s.comments)if(o=s.comments[+n].replies.find(a=>a.id===e),o)break;o&&(t==="upvote"?o.score++:o.score>0&&o.score--)}else{const o=s.comments.find(n=>n.id===e);o&&(t==="upvote"?o.score++:o.score--)}})},upvote(e){this.vote(e,"upvote")},downvote(e){this.vote(e,"downvote")}}});var m=(e,t)=>{const s=e.__vccOpts||e;for(const[o,n]of t)s[o]=n;return s};const G={class:"invisible-container"},Q=["src"],X={class:"user-name"},ee={class:"user-you"},te=u({props:{isShown:Boolean,user:{type:Object,required:!0}},setup(e){const t=e,s=w(),o=()=>s.currentUser.username===t.user.username;return(n,a)=>(r(),i("div",G,[c("img",{src:e.user.image.png,alt:"user avatar"},null,8,Q),e.isShown?(r(),i($,{key:0},[c("p",X,C(e.user.username),1),P(c("p",ee,"you",512),[[O,o()]])],64)):k("",!0)]))}});var N=m(te,[["__scopeId","data-v-7028a9e9"]]);const se={class:"btn-container"},ne={class:"like-btn btn__plus"},oe={class:"text"},ae=u({props:{score:{type:Number,required:!0},id:{type:Number,required:!0},checkComment:{type:Function,required:!0}},setup(e){const{upvote:t,downvote:s}=w();return(o,n)=>(r(),i("div",se,[c("div",ne,[c("p",{onClick:n[0]||(n[0]=a=>(e.checkComment(),g(t)(e.id))),class:"btn__text"},"+"),c("p",oe,C(e.score),1),c("p",{onClick:n[1]||(n[1]=a=>(e.checkComment(),g(s)(e.id))),class:"btn__text"},"-")])]))}});var re=m(ae,[["__scopeId","data-v-808c0722"]]);const ce={},ie={type:"button",class:"btn"};function le(e,t){return r(),i("button",ie,[x(e.$slots,"default",{},void 0,!0)])}var b=m(ce,[["render",le],["__scopeId","data-v-221b6a5f"]]);const ue=e=>(I("data-v-1b8a1f3e"),e=e(),B(),e),de=ue(()=>c("svg",{viewBox:"0 0 14 14",width:"14",height:"14",xmlns:"http://www.w3.org/2000/svg"},[c("path",{d:"M2.167 12.448C2.167 13.302 2.867 14 3.722 14H9.944C10.8 14 11.5 13.302 11.5 12.448V3.5H2.167V12.448ZM12.667 1.167H9.75L8.773 0H4.893L3.917 1.167H1V2.333H12.667V1.167V1.167Z"})],-1)),me=f(" Delete "),_e=u({setup(e){return(t,s)=>(r(),l(b,{class:"btn--flat"},{default:h(()=>[de,me]),_:1}))}});var pe=m(_e,[["__scopeId","data-v-1b8a1f3e"]]);const ve=e=>(I("data-v-c63d613c"),e=e(),B(),e),he=ve(()=>c("svg",{viewBox:"0 0 14 14",width:"14",height:"14",xmlns:"http://www.w3.org/2000/svg"},[c("path",{d:"M13.479 2.872 11.08.474a1.75 1.75 0 0 0-2.327-.06L.879 8.287a1.75 1.75 0 0 0-.5 1.06l-.375 3.648a.875.875 0 0 0 .875.954h.078l3.65-.333c.399-.04.773-.216 1.058-.499l7.875-7.875a1.68 1.68 0 0 0-.061-2.371Zm-2.975 2.923L8.159 3.449 9.865 1.7l2.389 2.39-1.75 1.706Z"})],-1)),fe=f(" Edit "),ge=u({setup(e){return(t,s)=>(r(),l(b,{class:"btn--flat"},{default:h(()=>[he,fe]),_:1}))}});var ye=m(ge,[["__scopeId","data-v-c63d613c"]]);const we=e=>(I("data-v-2bdd529a"),e=e(),B(),e),be=we(()=>c("svg",{viewBox:"0 0 14 14",width:"14",height:"14",xmlns:"http://www.w3.org/2000/svg"},[c("path",{d:"M0.226725 5.31454L5.03972 1.15854C5.135 1.07673 5.25172 1.02395 5.37606 1.00643C5.50041 0.988906 5.62717 1.00739 5.74134 1.05968C5.8555 1.11198 5.95229 1.1959 6.02024 1.3015C6.08818 1.4071 6.12445 1.52997 6.12472 1.65554V3.84454C10.5167 3.89454 13.9997 4.77454 13.9997 8.93754C13.9997 10.6175 12.9177 12.2815 11.7207 13.1515C11.3477 13.4235 10.8157 13.0815 10.9537 12.6415C12.1937 8.67754 10.3657 7.62454 6.12472 7.56354V9.96754C6.12472 10.5335 5.46072 10.8275 5.03972 10.4635L0.226725 6.30854C0.155558 6.24686 0.0984811 6.17061 0.0593631 6.08495C0.0202451 5.99928 0 5.90621 0 5.81204C0 5.71787 0.0202451 5.62479 0.0593631 5.53913C0.0984811 5.45347 0.155558 5.37721 0.226725 5.31554V5.31454Z"})],-1)),$e=f(" Reply "),Ce=u({setup(e){return(t,s)=>(r(),l(b,{class:"btn--flat"},{default:h(()=>[be,$e]),_:1}))}});var ke=m(Ce,[["__scopeId","data-v-2bdd529a"]]);const xe=f("Send"),Ie=u({setup(e){return(t,s)=>(r(),l(b,{class:"btn--normal"},{default:h(()=>[x(t.$slots,"default",{},()=>[xe],!0)]),_:3}))}});var S=m(Ie,[["__scopeId","data-v-24391194"]]);const Be=["value"],D=u({props:{content:{type:String,default:""}},emits:["update:content"],setup(e,{emit:t}){const s=o=>{t("update:content",o.target.value)};return(o,n)=>(r(),i("textarea",{name:"text-area",id:"",rows:"4",placeholder:"Add comment...",value:e.content,onInput:s},null,40,Be))}});const Re={class:"comment-container"},Se=f(" Reply "),Me=f(" Send "),L=u({props:{replyingTo:{type:String,required:!1,default:""},isReply:{type:Boolean,default:!1},commentId:{type:Number,required:!1,defaul:0},closeReply:{type:Function,required:!1,default:null}},setup(e){const t=e,s=w(),o=R(""),n=()=>{const d={id:s.getNewId(),content:o.value,createdAt:"Just now",score:0,user:s.currentUser,replies:[]};o.value&&(s.comments.push(d),o.value="")},a=()=>{const d={id:s.getNewId(),content:o.value,createdAt:"Just now",score:0,replyingTo:t.replyingTo,user:s.currentUser};if(o.value){const p=s.comments.find(v=>v.replies.find(y=>y.id===t.commentId));if(p)return p.replies.push(d);{const v=s.comments.find(y=>y.id===t.commentId);if(v)return v.replies.push(d)}}};return(d,p)=>(r(),i("div",Re,[_(D,{class:"text-area",content:o.value,"onUpdate:content":p[0]||(p[0]=v=>o.value=v)},null,8,["content"]),_(N,{isShown:!1,user:g(s).currentUser,class:"user-profile"},null,8,["user"]),e.isReply?(r(),l(S,{key:0,class:"btn",onClick:p[1]||(p[1]=v=>(a(),e.closeReply()))},{default:h(()=>[Se]),_:1})):(r(),l(S,{key:1,class:"btn",onClick:n},{default:h(()=>[Me]),_:1}))]))}});const Te={class:"comment-view-container"},Ue={class:"comment"},Ne={class:"comment__user-infos"},De={class:"timestamp"},Le={class:"comment__content"},Ae={key:1},Ve={class:"comment__score"},je={class:"comment__actions"},qe=f("Update"),He=u({props:{comment:{type:Object,required:!0}},setup(e){const t=e,s=w(),o=R(!1),n=()=>s.currentUser.username===t.comment.user.username,a=R(!1),d=()=>{if(a.value==!0){a.value=!a.value;return}a.value=!a.value},p=()=>o.value=!o.value,v=()=>o.value=!1,y=()=>{t.comment.replies?s.$patch({isRepliedComment:!1}):s.$patch({isRepliedComment:!0})},j=()=>{s.handleModal(!0),s.$patch({idToDelete:t.comment.id}),y()};return(nt,M)=>(r(),i("div",Te,[c("div",Ue,[c("div",Ne,[_(N,{isShown:!0,user:e.comment.user},null,8,["user"]),c("p",De,C(e.comment.createdAt),1)]),c("div",Le,[a.value?(r(),l(D,{key:0,content:e.comment.content,"onUpdate:content":M[0]||(M[0]=q=>e.comment.content=q)},null,8,["content"])):(r(),i("p",Ae,C(e.comment.content),1))]),c("div",Ve,[_(re,{score:e.comment.score,id:e.comment.id,checkComment:y},null,8,["score","id"])]),c("div",je,[n()&&!a.value?(r(),i($,{key:0},[_(pe,{onClick:j}),_(ye,{onClick:d})],64)):a.value?(r(),l(S,{key:1,onClick:d},{default:h(()=>[qe]),_:1})):(r(),l(ke,{key:2,onClick:p}))])]),o.value?(r(),l(L,{key:0,commentId:e.comment.id,replyingTo:e.comment.user.username,isReply:!0,closeReply:v},null,8,["commentId","replyingTo"])):k("",!0)]))}});var A=m(He,[["__scopeId","data-v-a6f150ae"]]);const Pe=f("Yes, Delete"),Oe=u({setup(e){return(t,s)=>(r(),l(b,{class:"btn--normal"},{default:h(()=>[x(t.$slots,"default",{},()=>[Pe],!0)]),_:3}))}});var Ee=m(Oe,[["__scopeId","data-v-08774b0e"]]);const Fe=f("No, Cancel"),Ze=u({setup(e){return(t,s)=>(r(),l(b,{class:"btn--normal"},{default:h(()=>[x(t.$slots,"default",{},()=>[Fe],!0)]),_:3}))}});var Je=m(Ze,[["__scopeId","data-v-a5c60504"]]);const V=e=>(I("data-v-72b2c0a4"),e=e(),B(),e),Ye={class:"modal"},Ke=V(()=>c("h2",{class:"modal__title"},"Delete comment",-1)),We=V(()=>c("p",{class:"modal__content"}," Are you sure you want to delete this comment? This will remove the comment and can\u2019t be undone ",-1)),ze={class:"modal__actions"},Ge=u({setup(e){E(()=>document.body.style.overflow="hidden"),F(()=>document.body.style.overflow="auto");const t=w(),s=()=>{t.idToDelete&&t.deleteComment(t.idToDelete),t.handleModal(!1)};return(o,n)=>(r(),i("div",{class:"modal-container",onClick:n[2]||(n[2]=Z(a=>g(t).handleModal(!1),["self"]))},[c("section",Ye,[Ke,We,c("aside",ze,[_(Je,{onClick:n[0]||(n[0]=a=>g(t).handleModal(!1))}),_(Ee,{onClick:n[1]||(n[1]=a=>s())})])])]))}});var Qe=m(Ge,[["__scopeId","data-v-72b2c0a4"]]);const Xe={class:"grid"},et={class:"container"},tt={key:0,class:"replied-comments"},st=u({setup(e){const t=w();return(s,o)=>(r(),i("div",Xe,[c("div",et,[(r(!0),i($,null,T(g(t).comments,n=>(r(),i($,{key:n.id},[_(A,{comment:n},null,8,["comment"]),n.replies.length>0?(r(),i("div",tt,[(r(!0),i($,null,T(n.replies,a=>(r(),l(A,{key:a.id,comment:a},null,8,["comment"]))),128))])):k("",!0)],64))),128)),_(L)]),g(t).showModal?(r(),l(Qe,{key:0})):k("",!0)]))}});J(st).use(Y()).mount("#app");
